{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/lib/firebase-admin.ts"],"sourcesContent":["import { initializeApp, getApps, cert } from 'firebase-admin/app';\r\nimport { getAuth } from 'firebase-admin/auth';\r\n\r\nconst serviceAccount = {\r\n  projectId: process.env.FIREBASE_PROJECT_ID,\r\n  clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\r\n  privateKey: process.env.FIREBASE_PRIVATE_KEY?.replace(/\\\\n/g, '\\n'),\r\n};\r\n\r\nif (!getApps().length) {\r\n  initializeApp({\r\n    credential: cert(serviceAccount),\r\n  });\r\n}\r\n\r\nexport const auth = getAuth();\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA,MAAM,iBAAiB;IACrB,WAAW,QAAQ,GAAG,CAAC,mBAAmB;IAC1C,aAAa,QAAQ,GAAG,CAAC,qBAAqB;IAC9C,YAAY,QAAQ,GAAG,CAAC,oBAAoB,EAAE,QAAQ,QAAQ;AAChE;AAEA,IAAI,CAAC,CAAA,GAAA,uKAAA,CAAA,UAAO,AAAD,IAAI,MAAM,EAAE;IACrB,CAAA,GAAA,uKAAA,CAAA,gBAAa,AAAD,EAAE;QACZ,YAAY,CAAA,GAAA,uKAAA,CAAA,OAAI,AAAD,EAAE;IACnB;AACF;AAEO,MAAM,OAAO,CAAA,GAAA,wKAAA,CAAA,UAAO,AAAD"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport type { NextRequest } from 'next/server';\r\nimport { auth } from '../src/lib/firebase-admin';\r\n\r\nexport async function middleware(request: NextRequest) {\r\n  const session = request.cookies.get('session')?.value || '';\r\n\r\n  // Verify the session\r\n  if (!session) {\r\n    return NextResponse.redirect(new URL('/login', request.url));\r\n  }\r\n\r\n  try {\r\n    const decodedClaims = await auth.verifySessionCookie(session, true);\r\n\r\n    // Check if email is verified for protected routes\r\n    if (!decodedClaims.email_verified && !request.nextUrl.pathname.startsWith('/confirm-signup')) {\r\n      return NextResponse.redirect(new URL('/confirm-signup', request.url));\r\n    }\r\n\r\n    return NextResponse.next();\r\n  } catch (error) {\r\n    return NextResponse.redirect(new URL('/login', request.url));\r\n  }\r\n}\r\n\r\nexport const config = {\r\n  matcher: ['/dashboard/:path*', '/profile/:path*'], // Add your protected routes here\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAEA;;;AAEO,eAAe,WAAW,OAAoB;IACnD,MAAM,UAAU,QAAQ,OAAO,CAAC,GAAG,CAAC,YAAY,SAAS;IAEzD,qBAAqB;IACrB,IAAI,CAAC,SAAS;QACZ,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;IAC5D;IAEA,IAAI;QACF,MAAM,gBAAgB,MAAM,uIAAA,CAAA,OAAI,CAAC,mBAAmB,CAAC,SAAS;QAE9D,kDAAkD;QAClD,IAAI,CAAC,cAAc,cAAc,IAAI,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,oBAAoB;YAC5F,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,mBAAmB,QAAQ,GAAG;QACrE;QAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;IAC1B,EAAE,OAAO,OAAO;QACd,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;IAC5D;AACF;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAqB;KAAkB;AACnD"}}]
}