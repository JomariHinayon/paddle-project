{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Elevate/paddle-project/src/lib/firebase.ts"],"sourcesContent":["\"use client\";\r\n\r\n// lib/firebase.ts\r\nimport { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth, GoogleAuthProvider, EmailAuthProvider } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\nimport { getFunctions, connectFunctionsEmulator } from \"firebase/functions\";\r\nimport { getAnalytics, isSupported } from \"firebase/analytics\";\r\nimport { getPerformance } from \"firebase/performance\";\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n  measurementId: \"G-1R6HX54FVL\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\n\r\n// Authentication\r\nexport const auth = getAuth(app);\r\nauth.useDeviceLanguage(); // For better auth flows\r\n\r\n// Providers\r\nexport const googleProvider = new GoogleAuthProvider();\r\ngoogleProvider.addScope('profile');\r\ngoogleProvider.addScope('email');\r\ngoogleProvider.setCustomParameters({\r\n  prompt: 'select_account'\r\n}); // Better UX for Google Auth\r\n\r\nexport const emailProvider = new EmailAuthProvider();\r\n\r\n// Firestore Database\r\nexport const firestore = getFirestore(app);\r\n\r\n// Cloud Storage\r\nexport const storage = getStorage(app);\r\n\r\n// Cloud Functions\r\nexport const functions = getFunctions(app);\r\n\r\n// Analytics (only initialize in client-side)\r\nexport const analytics = typeof window !== 'undefined' && isSupported() ? getAnalytics(app) : null;\r\n\r\n// Performance Monitoring\r\nexport const performance = typeof window !== 'undefined' ? getPerformance(app) : null;\r\n\r\n// Emulator setup (for development)\r\nif (process.env.NODE_ENV === 'development') {\r\n  connectFunctionsEmulator(functions, 'localhost', 5001);\r\n  // Note: Auth emulator needs to be set up in your auth flows\r\n}\r\n\r\n// Utility function to get current user token\r\nexport const getCurrentUserToken = async (): Promise<string | null> => {\r\n  try {\r\n    const user = auth.currentUser;\r\n    if (!user) return null;\r\n    return await user.getIdToken();\r\n  } catch (error) {\r\n    console.error('Error getting user token:', error);\r\n    return null;\r\n  }\r\n};"],"names":[],"mappings":";;;;;;;;;;;AAEA,kBAAkB;AAClB;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AATA;;;;;;;;AAWA,wCAAwC;AACxC,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,eAAe;AACjB;AAEA,sBAAsB;AACtB,MAAM,MAAM,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,KAAK,IAAI,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE,kBAAkB,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,GAAG,CAAC,EAAE;AAG1E,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AAC5B,KAAK,iBAAiB,IAAI,wBAAwB;AAG3C,MAAM,iBAAiB,IAAI,wNAAA,CAAA,qBAAkB;AACpD,eAAe,QAAQ,CAAC;AACxB,eAAe,QAAQ,CAAC;AACxB,eAAe,mBAAmB,CAAC;IACjC,QAAQ;AACV,IAAI,4BAA4B;AAEzB,MAAM,gBAAgB,IAAI,uNAAA,CAAA,oBAAiB;AAG3C,MAAM,YAAY,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE;AAG/B,MAAM,UAAU,CAAA,GAAA,oLAAA,CAAA,aAAU,AAAD,EAAE;AAG3B,MAAM,YAAY,CAAA,GAAA,0KAAA,CAAA,eAAY,AAAD,EAAE;AAG/B,MAAM,YAAY,gBAAkB,eAAe,CAAA,GAAA,0KAAA,CAAA,cAAW,AAAD,6CAA0B;AAGvF,MAAM,cAAc,6EAAsD;AAEjF,mCAAmC;AACnC,wCAA4C;IAC1C,CAAA,GAAA,0KAAA,CAAA,2BAAwB,AAAD,EAAE,WAAW,aAAa;AACjD,4DAA4D;AAC9D;AAGO,MAAM,sBAAsB;IACjC,IAAI;QACF,MAAM,OAAO,KAAK,WAAW;QAC7B,IAAI,CAAC,MAAM,OAAO;QAClB,OAAO,MAAM,KAAK,UAAU;IAC9B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Elevate/paddle-project/src/app/signup/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { createUserWithEmailAndPassword, sendEmailVerification } from 'firebase/auth';\r\nimport { auth, firestore } from '@/lib/firebase';\r\nimport { doc, setDoc, serverTimestamp } from 'firebase/firestore';\r\nimport { z } from 'zod';\r\n\r\n// Form validation schema\r\nconst signUpSchema = z.object({\r\n  email: z.string().email('Invalid email address'),\r\n  password: z.string()\r\n    .min(8, 'Password must be at least 8 characters')\r\n    .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')\r\n    .regex(/[0-9]/, 'Password must contain at least one number'),\r\n  confirmPassword: z.string()\r\n}).refine(data => data.password === data.confirmPassword, {\r\n  message: \"Passwords don't match\",\r\n  path: [\"confirmPassword\"]\r\n});\r\n\r\nexport default function SignUp() {\r\n  const router = useRouter();\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  });\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [authError, setAuthError] = useState('');\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    // Clear error when user types\r\n    if (errors[name]) {\r\n      setErrors(prev => ({ ...prev, [name]: '' }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setAuthError('');\r\n    \r\n    try {\r\n      signUpSchema.parse(formData);\r\n      setLoading(true);\r\n\r\n      // Create user first\r\n      const userCredential = await createUserWithEmailAndPassword(\r\n        auth,\r\n        formData.email,\r\n        formData.password\r\n      );\r\n\r\n      try {\r\n        // Then try to store user data\r\n        await setDoc(doc(firestore, 'users', userCredential.user.uid), {\r\n          email: formData.email,\r\n          uid: userCredential.user.uid,\r\n          createdAt: serverTimestamp(),\r\n          lastLogin: serverTimestamp(),\r\n          emailVerified: false,\r\n          provider: 'email'\r\n        });\r\n      } catch (firestoreError) {\r\n        console.error('Firestore error:', firestoreError);\r\n        // Continue with verification even if Firestore fails\r\n      }\r\n\r\n      // Send verification email\r\n      await sendEmailVerification(userCredential.user);\r\n      \r\n      // Clear form and loading state before redirect\r\n      setFormData({ email: '', password: '', confirmPassword: '' });\r\n      setLoading(false);\r\n      \r\n      // Redirect to confirmation page\r\n      router.replace('/confirm-signup?email=' + encodeURIComponent(formData.email));\r\n      \r\n    } catch (error: any) {\r\n      setLoading(false);\r\n      if (error instanceof z.ZodError) {\r\n        const newErrors: Record<string, string> = {};\r\n        error.errors.forEach(err => {\r\n          if (err.path) newErrors[err.path[0]] = err.message;\r\n        });\r\n        setErrors(newErrors);\r\n      } else {\r\n        setAuthError(getAuthErrorMessage(error.code));\r\n      }\r\n    }\r\n  };\r\n\r\n  const getAuthErrorMessage = (code: string) => {\r\n    switch (code) {\r\n      case 'auth/email-already-in-use':\r\n        return 'Email already in use';\r\n      case 'auth/invalid-email':\r\n        return 'Invalid email address';\r\n      case 'auth/weak-password':\r\n        return 'Password is too weak';\r\n      default:\r\n        return 'Failed to create account. Please try again.';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n      <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md\">\r\n        <h1 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">Create Account</h1>\r\n        \r\n        {authError && (\r\n          <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm\">\r\n            {authError}\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Email Address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              className={`w-full p-2 border rounded-md ${errors.email ? 'border-red-500' : 'border-gray-300'}`}\r\n              required\r\n            />\r\n            {errors.email && <p className=\"mt-1 text-sm text-red-600\">{errors.email}</p>}\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              className={`w-full p-2 border rounded-md ${errors.password ? 'border-red-500' : 'border-gray-300'}`}\r\n              required\r\n            />\r\n            {errors.password && <p className=\"mt-1 text-sm text-red-600\">{errors.password}</p>}\r\n            <p className=\"mt-1 text-xs text-gray-500\">\r\n              Must be at least 8 characters with 1 uppercase letter and 1 number\r\n            </p>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Confirm Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              name=\"confirmPassword\"\r\n              value={formData.confirmPassword}\r\n              onChange={handleChange}\r\n              className={`w-full p-2 border rounded-md ${errors.confirmPassword ? 'border-red-500' : 'border-gray-300'}`}\r\n              required\r\n            />\r\n            {errors.confirmPassword && <p className=\"mt-1 text-sm text-red-600\">{errors.confirmPassword}</p>}\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-not-allowed\"\r\n          >\r\n            {loading ? (\r\n              <span className=\"flex items-center justify-center\">\r\n                <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n                Creating Account...\r\n              </span>\r\n            ) : 'Sign Up'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-4 text-center text-sm text-gray-600\">\r\n          Already have an account?{' '}\r\n          <a href=\"/login\" className=\"text-blue-600 hover:text-blue-800 font-medium\">\r\n            Log in\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}