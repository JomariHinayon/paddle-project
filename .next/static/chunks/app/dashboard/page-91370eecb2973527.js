(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{3747:(e,t,s)=>{"use strict";s.d(t,{N:()=>l,q:()=>i});var a=s(6104);let l=async()=>{let e=a.j2.currentUser;if(e){let t=await e.getIdToken();try{if(!(await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:t})})).ok)throw Error("Failed to set session");return!0}catch(e){console.error("Error setting session:",e)}}return!1},i=async()=>{try{return await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),localStorage.removeItem("user"),sessionStorage.clear(),!0}catch(e){return console.error("Error clearing session:",e),document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; secure",localStorage.removeItem("user"),sessionStorage.clear(),!1}}},4276:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(5155),l=s(2115),i=s(5695),n=s(6104),r=s(6203),d=s(3747);function o(e){let{className:t=""}=e,s=(0,i.useRouter)(),[o,c]=(0,l.useState)(!1),m=async()=>{try{c(!0),await (0,r.CI)(n.j2),(0,d.q)(),s.replace("/login")}catch(e){console.error("Error signing out:",e)}finally{c(!1)}};return(0,a.jsx)("button",{onClick:m,disabled:o,className:"flex items-center ".concat(t),children:o?(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):"Logout"})}var c=s(6766);function m(e){var t,s,l;let{user:i}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(null==i?void 0:i.photoURL)?(0,a.jsx)(c.default,{src:i.photoURL,alt:i.displayName||"Profile",width:64,height:64,className:"rounded-full",priority:!0}):(0,a.jsx)("div",{className:"h-16 w-16 rounded-full bg-violet-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl text-violet-600",children:((null==i?void 0:null===(s=i.displayName)||void 0===s?void 0:s[0])||(null==i?void 0:null===(l=i.email)||void 0===l?void 0:l[0])||"?").toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:(null==i?void 0:i.displayName)||(null==i?void 0:null===(t=i.email)||void 0===t?void 0:t.split("@")[0])||"User"}),(0,a.jsx)("p",{className:"text-gray-500",children:null==i?void 0:i.email})]})]}),(0,a.jsxs)("div",{className:"mt-6 border-t pt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Account Status"}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:"Active"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Email Verified"}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat((null==i?void 0:i.emailVerified)?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:(null==i?void 0:i.emailVerified)?"Verified":"Pending"})]})]})]})}var u=s(3554);let x={clientToken:"test_2c55b94e5180a69d07a0a04db62",prices:{standard:{month:"pri_01jqpptmznh4vswj791kdk56q3",year:"pri_01jqppvckqd321w7vv04yadp72"},premium:{month:"pri_01jrcyb5gnfxn2s012n83a2gcf",year:"pri_01jrcyfgfqb3p51a7sfy2y5mav"}},planDetails:{standard:{name:"Standard Plan",features:["Core application features","Email support","Basic analytics"]},premium:{name:"Premium Plan",features:["All Standard features","Priority support","Advanced analytics","Custom integrations","Team collaboration tools"]}},customerPortalLink:"https://sandbox-customer-portal.paddle.com/cpl_01jqppqpftkjwppfthwevb3h64"};var p=s(5317);function h(e){return e===x.prices.standard.month?{name:"Standard Monthly",tier:"standard",interval:"month",description:"Basic features with monthly billing",features:x.planDetails.standard.features}:e===x.prices.standard.year?{name:"Standard Yearly",tier:"standard",interval:"year",description:"Basic features with yearly billing (save 16%)",features:x.planDetails.standard.features}:e===x.prices.premium.month?{name:"Premium Monthly",tier:"premium",interval:"month",description:"Advanced features with monthly billing",features:x.planDetails.premium.features}:e===x.prices.premium.year?{name:"Premium Yearly",tier:"premium",interval:"year",description:"Advanced features with yearly billing (save 16%)",features:x.planDetails.premium.features}:null}function v(){var e,t,s,d,c,v,b,f,g,j,w,N,y,P,S,D;let k=(0,i.useRouter)(),[I,C]=(0,l.useState)(n.j2.currentUser),[L,_]=(0,l.useState)(!1),[A,B]=(0,l.useState)("month"),[E,T]=(0,l.useState)({}),[U,R]=(0,l.useState)(null),[q,z]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e=(0,r.hg)(n.j2,e=>{if(!e){k.replace("/login");return}C(e)});return()=>e()},[k]);let M=async()=>{if(!L){console.error("Paddle is not loaded yet");return}try{let e={items:[{quantity:1,priceId:x.prices.standard[A]},{quantity:1,priceId:x.prices.premium[A]}]},t=await window.Paddle.PricePreview(e),s={};t.data.details.lineItems.forEach(e=>{e.price.id===x.prices.standard[A]?s.standard=e.formattedTotals.subtotal:e.price.id===x.prices.premium[A]&&(s.premium=e.formattedTotals.subtotal)}),T(s)}catch(e){console.error("Error fetching prices:",e)}};(0,l.useEffect)(()=>{L&&M()},[L,A]);let F=e=>{if(!L){console.error("Paddle is not loaded yet");return}window.Paddle.Checkout.open({items:[{priceId:x.prices[e][A],quantity:1}],settings:{displayMode:"overlay",theme:"light",variant:"one-page"},customer:{email:(null==I?void 0:I.email)||""},customData:{userId:(null==I?void 0:I.uid)||""}})},G=async e=>{if(console.log("Paddle event:",e),"subscription.created"===e.name&&I)try{var t,s,a,l,i,n,r,d,o,c,m,u,x,h,v,b,f;let g=(0,p.aU)(),j=(0,p.rJ)(g,"users",I.uid,"transactions");console.log("Full Paddle subscription.created payload:",JSON.stringify(e,null,2));let w=null===(t=e.data.items)||void 0===t?void 0:t[0],N=e.data.id;if(!N){console.log("No valid subscription ID in event, not saving to Firebase");return}let y={userId:I.uid,subscriptionId:N,product:{id:null!==(o=null==w?void 0:null===(s=w.product)||void 0===s?void 0:s.id)&&void 0!==o?o:"",name:null!==(c=null==w?void 0:null===(a=w.product)||void 0===a?void 0:a.name)&&void 0!==c?c:""},amountPaid:null!==(m=null==w?void 0:null===(l=w.totals)||void 0===l?void 0:l.total)&&void 0!==m?m:0,currency:null!==(u=null==w?void 0:null===(n=w.price)||void 0===n?void 0:null===(i=n.unit_price)||void 0===i?void 0:i.currency_code)&&void 0!==u?u:"USD",paymentStatus:null!==(x=e.data.status)&&void 0!==x?x:"active",customerEmail:null!==(v=null!==(h=null===(r=e.data.customer)||void 0===r?void 0:r.email)&&void 0!==h?h:I.email)&&void 0!==v?v:"",customerId:null!==(b=null===(d=e.data.customer)||void 0===d?void 0:d.id)&&void 0!==b?b:"",nextBillDate:e.data.next_billed_at?new Date(e.data.next_billed_at):null,startDate:e.data.started_at?new Date(e.data.started_at):null,quantity:null!==(f=null==w?void 0:w.quantity)&&void 0!==f?f:1,timestamp:new Date};console.log("Subscription transaction data:",y),await (0,p.BN)((0,p.H9)(j,N),y),console.log("Subscription saved to Firebase");let P=(0,p.H9)(g,"users",I.uid);await (0,p.BN)(P,{hasActiveSubscription:!0,lastTransactionDate:new Date,currentPlan:y.product.id,subscriptionStatus:"active",currentSubscriptionId:N},{merge:!0})}catch(t){console.error("Error saving subscription data:",t),console.error("Event data:",e)}else"checkout.completed"===e.name&&console.log("Checkout completed. Waiting for subscription.created event.")},Y=async e=>{try{let l=(0,p.aU)(),i=(0,p.H9)(l,"users",e),n=await (0,p.x7)(i);if(n.exists()){var t,s,a;let e=n.data();R({hasActive:e.hasActiveSubscription||!1,plan:e.currentPlan||null,status:e.subscriptionStatus||"inactive",lastTransaction:(null===(t=e.lastTransactionDate)||void 0===t?void 0:t.toDate())||null,product:e.product||null,customerId:e.paddleCustomerId||null,subscriptionId:e.currentSubscriptionId||null,nextBillDate:(null===(s=e.nextBillDate)||void 0===s?void 0:s.toDate())||null,canceledAt:(null===(a=e.subscriptionCanceledAt)||void 0===a?void 0:a.toDate())||null}),console.log("Subscription status:",e)}}catch(e){console.error("Error fetching subscription:",e)}},J=async e=>{try{let t=(0,p.aU)(),s=(0,p.rJ)(t,"users",e,"transactions"),a=(0,p.P)(s,(0,p.My)("timestamp","desc"),(0,p.AB)(1)),l=(await (0,p.GG)(a)).docs.map(e=>({id:e.id,...e.data(),planDetails:h(e.data().product.id)}));z(l),console.log("Transaction logs:",l)}catch(e){console.error("Error fetching transactions:",e)}};return(0,l.useEffect)(()=>{(null==I?void 0:I.uid)&&(Y(I.uid),J(I.uid))},[I]),(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[(0,a.jsx)(u.default,{src:"https://cdn.paddle.com/paddle/v2/paddle.js",onLoad:()=>{window.Paddle&&(window.Paddle.Environment.set("sandbox"),window.Paddle.Setup({token:x.clientToken,eventCallback:G}),_(!0))}}),(0,a.jsx)("nav",{className:"bg-white/80 backdrop-blur-md sticky top-0 z-10 border-b border-slate-200/80",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:"text-xl font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Dashboard"})}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)(o,{className:"text-slate-700 hover:text-slate-900"})})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[U&&U.hasActive&&(0,a.jsx)("div",{className:"mb-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl shadow-md overflow-hidden",children:(0,a.jsxs)("div",{className:"px-6 py-8 md:px-8 md:py-8 relative",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 -translate-y-24 translate-x-24 rounded-full bg-white/10 opacity-50"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 translate-y-20 -translate-x-16 rounded-full bg-white/5 opacity-50"}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-white mb-2",children:["Welcome, ",(null==I?void 0:I.displayName)||(null==I?void 0:null===(e=I.email)||void 0===e?void 0:e.split("@")[0]),"!"]}),(0,a.jsxs)("p",{className:"text-blue-100 max-w-md",children:["Your ",U.plan&&(null===(t=h(U.plan))||void 0===t?void 0:t.name)," subscription is active. Enjoy full access to all premium features."]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[U.nextBillDate&&(0,a.jsxs)("div",{className:"bg-white/15 backdrop-blur-sm px-4 py-2 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-blue-100 font-medium",children:"NEXT BILLING"}),(0,a.jsx)("p",{className:"text-white font-medium",children:new Date(U.nextBillDate).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"bg-white/15 backdrop-blur-sm px-4 py-2 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-blue-100 font-medium",children:"STATUS"}),(0,a.jsx)("p",{className:"text-white font-medium capitalize",children:U.status})]}),q.length>0&&q[0].amountPaid&&(0,a.jsxs)("div",{className:"bg-white/15 backdrop-blur-sm px-4 py-2 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-blue-100 font-medium",children:"PLAN"}),(0,a.jsx)("p",{className:"text-white font-medium",children:(null===(s=q[0].planDetails)||void 0===s?void 0:s.name)||U.plan})]})]})]})]})}),(!U||!U.hasActive)&&(0,a.jsx)("div",{className:"mb-8 bg-gradient-to-r from-slate-700 to-slate-800 rounded-2xl shadow-md overflow-hidden",children:(0,a.jsxs)("div",{className:"px-6 py-8 md:px-8 md:py-8 relative",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 -translate-y-24 translate-x-24 rounded-full bg-white/10 opacity-20"}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Welcome to Your Dashboard"}),(0,a.jsx)("p",{className:"text-slate-300 max-w-md mb-4",children:"Unlock all premium features by subscribing to one of our plans below. Get started today and experience the full power of our platform."}),(0,a.jsx)("button",{onClick:()=>{var e;null===(e=document.getElementById("subscription-plans"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},className:"px-6 py-2.5 bg-white text-slate-800 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"View Plans"})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm p-5 rounded-xl hidden md:block",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-white mb-3",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-300",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:"Access all premium features"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-white mb-3",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-300",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:"Priority customer support"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-white",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-300",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,a.jsx)("span",{children:"Cancel anytime"})]})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"sticky top-24 space-y-6",children:[(0,a.jsx)(m,{user:I}),U&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200/80 p-6 overflow-hidden relative",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 -translate-y-8 translate-x-8",children:(0,a.jsx)("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-blue-100 to-indigo-100 opacity-50"})}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-800 mb-4 relative",children:"Subscription Status"}),(0,a.jsxs)("div",{className:"space-y-4 relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Status"}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===U.status?"bg-emerald-100 text-emerald-800":"canceled"===U.status?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"),children:U.status.charAt(0).toUpperCase()+U.status.slice(1)})]}),q.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Plan"}),(0,a.jsx)("span",{className:"font-medium text-sm px-3 py-1 bg-blue-50 text-blue-700 rounded-full",children:(null===(d=q[0].planDetails)||void 0===d?void 0:d.name)||"Unknown Plan"})]}),q[0].subscriptionId&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Subscription ID"}),(0,a.jsx)("span",{className:"font-mono text-xs text-slate-600 truncate max-w-[150px]",title:q[0].subscriptionId,children:q[0].subscriptionId})]}),q[0].nextBillDate&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Next Billing"}),(0,a.jsx)("span",{className:"font-medium text-slate-800",children:new Date(1e3*q[0].nextBillDate.seconds).toLocaleDateString()})]})]}),U.lastTransaction&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Last Payment"}),(0,a.jsx)("span",{className:"font-medium text-slate-800",children:new Date(U.lastTransaction).toLocaleDateString()})]}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-slate-100",children:(0,a.jsx)("a",{href:"".concat(x.customerPortalLink,"?customer_email=").concat(encodeURIComponent((null==I?void 0:I.email)||"")).concat((null==U?void 0:U.customerId)?"&customer_id=".concat(encodeURIComponent(U.customerId)):""),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-full py-2 px-4 text-sm font-medium text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:"Manage Subscription"})})]})]})]})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[q.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200/80 p-6 overflow-hidden relative",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-48 h-48 -translate-y-12 translate-x-12",children:(0,a.jsx)("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-emerald-50 to-blue-50 opacity-50"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6 relative",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-800",children:"Subscription Details"}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium \n                    ".concat("active"===q[0].paymentStatus?"bg-emerald-100 text-emerald-800":"bg-blue-100 text-blue-800"),children:q[0].paymentStatus||"Active"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Plan"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-lg font-medium text-slate-900 mr-2",children:(null===(c=q[0].planDetails)||void 0===c?void 0:c.name)||"Standard"}),(null===(v=q[0].product)||void 0===v?void 0:v.id)&&(0,a.jsxs)("span",{className:"text-xs px-2 py-1 bg-slate-100 rounded-md text-slate-600",children:["ID: ",q[0].product.id]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Amount Paid"}),(0,a.jsxs)("p",{className:"text-lg font-medium text-slate-900",children:[q[0].amountPaid," ",q[0].currency]})]}),q[0].nextBillDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Next Billing Date"}),(0,a.jsx)("p",{className:"text-lg font-medium text-slate-900",children:new Date(1e3*q[0].nextBillDate.seconds).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Purchase Date"}),(0,a.jsx)("p",{className:"text-lg font-medium text-slate-900",children:new Date(q[0].timestamp.toDate()).toLocaleDateString()})]}),q[0].startDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Subscription Start"}),(0,a.jsx)("p",{className:"text-lg font-medium text-slate-900",children:new Date(1e3*q[0].startDate.seconds).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Subscription ID"}),(0,a.jsx)("p",{className:"text-sm font-mono text-slate-600 break-all",children:q[0].subscriptionId})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 pt-6 border-t border-slate-100",children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Thank you for your subscription! Your access is now active."}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)("button",{onClick:()=>{let e="".concat(x.customerPortalLink,"?customer_email=").concat(encodeURIComponent((null==I?void 0:I.email)||"")).concat((null==U?void 0:U.customerId)?"&customer_id=".concat(encodeURIComponent(U.customerId)):"");window.open(e,"_blank")},className:"inline-flex items-center px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:"Manage Subscription"}),(0,a.jsx)("button",{onClick:()=>J(I.uid),className:"inline-flex items-center px-4 py-2 bg-slate-50 text-slate-700 rounded-lg hover:bg-slate-100 transition-colors text-sm font-medium",children:"Refresh Data"})]})]})]}),(0,a.jsxs)("div",{id:"subscription-plans",className:"bg-white rounded-2xl shadow-sm border border-slate-200/80 p-6 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 -translate-y-48 translate-x-48",children:(0,a.jsx)("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-violet-50 to-purple-50 opacity-50"})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8 relative",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-800",children:"Subscription Plans"}),(0,a.jsx)("p",{className:"text-slate-500 mt-1",children:"Choose the perfect plan for your needs"})]}),(0,a.jsxs)("div",{className:"flex p-1 bg-slate-100 rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>B("month"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("month"===A?"bg-white shadow-sm text-slate-800":"text-slate-600 hover:text-slate-800"),children:"Monthly"}),(0,a.jsx)("button",{onClick:()=>B("year"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("year"===A?"bg-white shadow-sm text-slate-800":"text-slate-600 hover:text-slate-800"),children:"Yearly"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative",children:[(0,a.jsxs)("div",{className:"group relative border ".concat((null==U?void 0:U.plan)&&(null===(b=h(U.plan))||void 0===b?void 0:b.name)==="Standard Plan"?"border-blue-300 bg-blue-50/30":"border-slate-200"," rounded-2xl p-6 hover:shadow-md hover:border-slate-300 transition-all duration-300"),children:[(null==U?void 0:U.plan)&&(null===(f=h(U.plan))||void 0===f?void 0:f.name)==="Standard Plan"&&(0,a.jsx)("div",{className:"absolute -top-3 right-6",children:(0,a.jsx)("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-medium shadow-sm",children:"Current Plan"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-slate-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Standard Plan"}),(0,a.jsx)("p",{className:"text-slate-600 mb-4",children:"month"===A?"Perfect for getting started":"Save more with yearly billing"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-slate-900",children:E.standard||"Loading..."}),(0,a.jsxs)("span",{className:"text-slate-600",children:["/",A]})]}),(0,a.jsx)("button",{onClick:()=>F("standard"),disabled:!L||(null==U?void 0:U.plan)&&(null===(g=h(U.plan))||void 0===g?void 0:g.name)==="Standard Plan"&&(null==U?void 0:U.status)==="active",className:"w-full py-3 px-4 rounded-xl transition-all ".concat(L?(null==U?void 0:U.plan)&&(null===(j=h(U.plan))||void 0===j?void 0:j.name)==="Standard Plan"&&(null==U?void 0:U.status)==="active"?"bg-blue-100 text-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white shadow-sm hover:shadow group-hover:shadow-md":"bg-slate-200 cursor-not-allowed text-slate-500"),children:L?(null==U?void 0:U.plan)&&(null===(w=h(U.plan))||void 0===w?void 0:w.name)==="Standard Plan"&&(null==U?void 0:U.status)==="active"?"Current Plan":"Get Standard ".concat("month"===A?"Monthly":"Yearly"):"Loading..."})]})]}),(0,a.jsxs)("div",{className:"group relative border-2 ".concat((null==U?void 0:U.plan)&&(null===(N=h(U.plan))||void 0===N?void 0:N.name)==="Premium Plan"?"border-violet-300 bg-violet-50/30":"border-violet-200"," rounded-2xl p-6 hover:shadow-md hover:border-violet-300 transition-all duration-300"),children:[(null==U?void 0:U.plan)&&(null===(y=h(U.plan))||void 0===y?void 0:y.name)==="Premium Plan"?(0,a.jsx)("div",{className:"absolute -top-3 right-6",children:(0,a.jsx)("span",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 text-white px-3 py-1 rounded-full text-xs font-medium shadow-sm",children:"Current Plan"})}):(0,a.jsx)("div",{className:"absolute -top-4 left-4",children:(0,a.jsx)("span",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-sm",children:"Popular"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-50 to-indigo-50 opacity-50 group-hover:opacity-100 transition-opacity rounded-2xl"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Premium Plan"}),(0,a.jsx)("p",{className:"text-slate-600 mb-4",children:"month"===A?"Access all premium features":"Best value for full access"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-slate-900",children:E.premium||"Loading..."}),(0,a.jsxs)("span",{className:"text-slate-600",children:["/",A]})]}),(0,a.jsx)("button",{onClick:()=>F("premium"),disabled:!L||(null==U?void 0:U.plan)&&(null===(P=h(U.plan))||void 0===P?void 0:P.name)==="Premium Plan"&&(null==U?void 0:U.status)==="active",className:"w-full py-3 px-4 rounded-xl transition-all ".concat(L?(null==U?void 0:U.plan)&&(null===(S=h(U.plan))||void 0===S?void 0:S.name)==="Premium Plan"&&(null==U?void 0:U.status)==="active"?"bg-violet-100 text-violet-800 cursor-not-allowed":"bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 text-white shadow-sm hover:shadow group-hover:shadow-md":"bg-slate-200 cursor-not-allowed text-slate-500"),children:L?(null==U?void 0:U.plan)&&(null===(D=h(U.plan))||void 0===D?void 0:D.name)==="Premium Plan"&&(null==U?void 0:U.status)==="active"?"Current Plan":"Get Premium ".concat("month"===A?"Monthly":"Yearly"):"Loading..."})]})]})]})]})]})]})]})]})}},6104:(e,t,s)=>{"use strict";s.d(t,{hJ:()=>u,j2:()=>m,kA:()=>x});var a=s(3915),l=s(6203),i=s(5317),n=s(858),r=s(1427),d=s(3244),o=s(5097);let c=0===(0,a.Dk)().length?(0,a.Wp)({apiKey:"AIzaSyAZgykutTrEf_s4X53uL0e5g5IeU9LN7Ao",authDomain:"paddle-f3c68.firebaseapp.com",projectId:"paddle-f3c68",storageBucket:"paddle-f3c68.firebasestorage.app",messagingSenderId:"226043314594",appId:"1:226043314594:web:95d919cb8c5ded72ebf2fb",measurementId:"G-1R6HX54FVL"}):(0,a.Dk)()[0],m=(0,l.xI)(c);m.useDeviceLanguage();let u=new l.HF;u.addScope("profile"),u.addScope("email"),u.setCustomParameters({prompt:"select_account"}),new l.IX;let x=(0,i.aU)(c);(0,n.c7)(c),(0,r.Uz)(c),(0,d.TT)()&&(0,d.P5)(c),(0,o.FJ)(c)},8050:(e,t,s)=>{Promise.resolve().then(s.bind(s,4276))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,158,525,533,145,441,684,358],()=>t(8050)),_N_E=e.O()}]);